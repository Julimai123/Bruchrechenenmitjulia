<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rechen mit Brüchen - Geheimsprache</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
            flex-direction: column;
        }
        .container {
            display: flex;
            align-items: center;
        }
        .fraction {
            font-size: 50px;
            margin-right: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .fraction div {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .fraction div span {
            font-size: 50px;
            margin: 0 10px;
        }
        .fraction div hr {
            width: 60px;
        }
        .input-field {
            display: flex;
            flex-direction: column;
            margin-top: 5px;
        }
        input {
            padding: 10px;
            font-size: 16px;
            margin-top: 10px;
        }
        .correct {
            color: green;
            font-weight: bold;
            margin-top: 5px;
            display: none;
        }
        #circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background-color: blue;
            position: relative;
            margin-top: 20px;
            display: none;
        }
        #swordButton {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            font-size: 18px;
            border: none;
            cursor: pointer;
            margin-top: 20px;
        }
        #swordButton:hover {
            background-color: #45a049;
        }
        #sword {
            width: 20px;
            height: 100px;
            background-color: silver;
            position: absolute;
            top: 0;
            left: 0;
            cursor: pointer;
            display: none;
            transform-origin: top center;
        }
        #swordGrip {
            width: 40px;
            height: 30px;
            background-color: brown;
            position: absolute;
            top: 100px; /* unterhalb der Spitze */
            left: -10px;
        }
        #halfCircle1, #halfCircle2 {
            width: 75px;
            height: 75px;
            border-radius: 50%;
            background-color: blue;
            position: absolute;
            top: 0;
            display: none;
        }
        #halfCircle1 {
            left: 10px;
        }
        #halfCircle2 {
            right: 10px;
        }
    </style>
</head>
<body>

    <!-- Aufgabe 1: Bruch -->
    <div class="container" id="fractionContainer">
        <div class="fraction">
            <div>
                <span>1</span>
                <hr>
                <span>2</span>
            </div>
        </div>
        <div class="input-field">
            <input type="text" id="numerator" placeholder="" aria-label="Zähler">
            <div id="numeratorCorrect" class="correct">richtig</div>
            <input type="text" id="denominator" placeholder="" aria-label="Nenner">
            <div id="denominatorCorrect" class="correct">richtig</div>
        </div>
    </div>

    <!-- Aufgabe 2: Kreis und Schwert -->
    <div id="circle"></div>
    <button id="swordButton">Schwert zücken</button>

    <div id="sword">
        <div id="swordGrip"></div>
    </div>

    <div id="halfCircle1"></div>
    <div id="halfCircle2"></div>

    <script>
        // Funktion, um das Wort richtig zu überprüfen
        function checkInput(inputId, correctId, correctWord) {
            const inputElement = document.getElementById(inputId);
            const correctElement = document.getElementById(correctId);

            inputElement.addEventListener('input', function() {
                const userInput = inputElement.value.trim().toLowerCase().replace(/\s+/g, ''); // Entfernt Leerzeichen und macht alles klein
                if (userInput === correctWord.toLowerCase()) {
                    correctElement.style.display = 'block';
                } else {
                    correctElement.style.display = 'none';
                }
            });
        }

        // Überprüfe die Eingaben
        checkInput('numerator', 'numeratorCorrect', 'Zähler');
        checkInput('denominator', 'denominatorCorrect', 'Nenner');

        // Wenn beide Felder richtig sind, erscheint der Button für Level 2
        function checkLevel2() {
            const numeratorCorrect = document.getElementById('numeratorCorrect').style.display === 'block';
            const denominatorCorrect = document.getElementById('denominatorCorrect').style.display === 'block';
        }

        // Button für Level 2, der die Aufgabe 1 ausblendet und die Kreisfläche anzeigt
        document.getElementById('swordButton').addEventListener('click', function() {
            document.getElementById('circle').style.display = 'block';
            document.getElementById('sword').style.display = 'block'; // Zeige das Schwert an
        });

        // Schwert bewegen
        const sword = document.getElementById('sword');
        const swordGrip = document.getElementById('swordGrip');
        let isDragging = false;

        sword.addEventListener('mousedown', function(e) {
            isDragging = true;
            const offsetX = e.clientX - sword.getBoundingClientRect().left;
            const offsetY = e.clientY - sword.getBoundingClientRect().top;

            document.addEventListener('mousemove', function(e) {
                if (isDragging) {
                    sword.style.left = (e.clientX - offsetX) + 'px';
                    sword.style.top = (e.clientY - offsetY) + 'px';
                }
            });

            document.addEventListener('mouseup', function() {
                isDragging = false;
            });
        });

        // Schwert klicke auf den Kreis und es wird gestaucht
        sword.addEventListener('click', function() {
            const circle = document.getElementById('circle');
            const swordRect = sword.getBoundingClientRect();
            const circleRect = circle.getBoundingClientRect();

            // Überprüfen, ob das Schwert mittig über dem Kreis ist
            if (swordRect.top < circleRect.bottom && swordRect.bottom > circleRect.top && swordRect.left < circleRect.right && swordRect.right > circleRect.left) {
                // Schwert wird gestaucht
                sword.style.transform = 'scaleY(0.5)'; // Schwert wird gestaucht

                // Kreis wird durch Halbkreise ersetzt
                document.getElementById('halfCircle1').style.display = 'block';
                document.getElementById('halfCircle2').style.display = 'block';

                document.getElementById('circle').style.display = 'none'; // Verstecke den Kreis
            }
        });
    </script>

</body>
</html>

